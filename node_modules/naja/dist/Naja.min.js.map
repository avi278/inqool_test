{"version":3,"file":"Naja.min.js","sources":["../src/utils.ts","../src/core/UIHandler.ts","../src/core/FormsHandler.ts","../src/core/RedirectHandler.ts","../src/core/SnippetHandler.ts","../src/core/HistoryHandler.ts","../src/core/SnippetCache.ts","../src/core/ScriptLoader.ts","../src/Naja.ts","../src/index.ts","../src/extensions/AbortExtension.ts","../src/extensions/UniqueExtension.ts"],"sourcesContent":[null,null,null,null,null,null,null,null,null,null,null,null],"names":["onDomReady","callback","document","readyState","addEventListener","AssertionError","Error","assert","condition","description","undefined","UIHandler","EventTarget","constructor","naja","super","this","selector","allowedOrigins","window","location","origin","handler","handleUI","bind","initialize","bindUI","body","snippetHandler","event","snippet","detail","element","selectors","join","bindElement","removeEventListener","elements","querySelectorAll","i","length","item","matches","bindForm","form","forms","mouseEvent","altKey","ctrlKey","shiftKey","metaKey","button","currentTarget","options","prepareOptions","ignoreErrors","type","submitForm","catch","clickElement","async","data","method","url","dispatchEvent","CustomEvent","cancelable","originalEvent","preventDefault","tagName","HTMLAnchorElement","href","HTMLInputElement","HTMLButtonElement","getAttribute","toUpperCase","pathname","search","FormData","name","append","value","coords","getBoundingClientRect","prefix","Math","max","floor","pageX","left","pageY","top","isUrlAllowed","makeRequest","urlObject","URL","includes","FormsHandler","uiHandler","processForm","initForms","netteForms","Nette","initForm","inputElement","validateForm","stopImmediatePropagation","RedirectHandler","hasAttribute","forceRedirect","payload","redirect","makeRedirect","locationAdapter","assign","force","isHardRedirect","setHardRedirect","SnippetHandler","op","replace","content","innerHTML","prepend","insertAdjacentHTML","snippets","updateSnippets","static","predicate","result","id","fromCache","Object","keys","forEach","getElementById","updateSnippet","operation","changeOperation","toLowerCase","title","HistoryHandler","initialized","popStateHandler","handlePopState","saveUrl","replaceInitialState","pushNewState","configureMode","historyAdapter","replaceState","state","history","pushState","uiCache","console","warn","defaultOptions","snippetCache","source","normalizeMode","buildState","mode","postGet","SnippetCache","storages","off","OffCacheStorage","HistoryCacheStorage","session","SessionCacheStorage","configureCache","historyHandler","buildHistoryState","restoreHistoryState","resolveStorage","option","storageType","historyUiCache","findSnippets","storage","key","store","fetch","scriptLoader","loadScripts","random","toString","substring","sessionStorage","setItem","JSON","stringify","getItem","parse","ScriptLoader","loadedScripts","Set","script","scriptId","add","test","el","createElement","scripts","has","scriptEl","hasAttributes","attrs","attributes","j","attrName","setAttribute","head","appendChild","parentNode","removeChild","Naja","redirectHandler","formsHandler","VERSION","extensions","registerExtension","extension","push","headers","Headers","transformData","abortController","AbortController","request","Request","credentials","signal","set","promise","response","ok","HttpError","json","error","appendToQueryString","searchParams","Array","isArray","getPrototypeOf","prototype","subkey","subvalue","entries","String","isGet","transformedData","URLSearchParams","message","status","statusText","stack","abortControllers","checkAbortable","onInitialize","saveAbortController","removeAbortController","controller","abort","clear","clearAbortExtension","delete","Map","checkUniqueness","abortPreviousRequest","clearRequest","unique","get","aborted"],"mappings":"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"}